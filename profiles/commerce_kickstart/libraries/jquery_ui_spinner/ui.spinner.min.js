/*
 jQuery UI Spinner 1.20

 Copyright (c) 2009-2010 Brant Burnett
 Dual licensed under the MIT or GPL Version 2 licenses.
*/
function isFF(){if(0<navigator.userAgent.indexOf("Firefox"))return!0}function isIE3(g){var p=navigator.userAgent.toLowerCase(),n="",h="";-1!=p.indexOf("msie")?n=!0:n=!1;if(void 0==g||""==g)return n?parseInt(p.split("msie")[1]):!1;!0==n?h=g:h="";return h}
(function(g,p){var n="ui-state-active",h=g.ui.keyCode,A=h.UP,B=h.DOWN,s=h.RIGHT,C=h.LEFT,t=h.PAGE_UP,u=h.PAGE_DOWN,G=h.HOME,H=h.END,I=isIE3(),r=isFF()?"DOMMouseScroll":"mousewheel",J=[A,B,s,C,t,u,G,H,h.BACKSPACE,h.DELETE,h.TAB],K;g.widget("ui.spinner",{options:{min:null,max:null,allowNull:!1,group:"",point:".",prefix:"",suffix:"",places:null,defaultStep:1,largeStep:10,mouseWheel:!0,increment:"slow",className:null,showOn:"always",width:16,upIconClass:"ui-icon-triangle-1-n",downIconClass:"ui-icon-triangle-1-s",
format:function(a,b){for(var c=/(\d+)(\d{3})/,e=(isNaN(a)?0:Math.abs(a)).toFixed(b)+"",e=e.replace(".",this.point);c.test(e)&&this.group;e=e.replace(c,"$1"+this.group+"$2"));return(0>a?"-":"")+this.prefix+e+this.suffix},parse:function(a){"."==this.group&&(a=a.replace(".",""));"."!=this.point&&(a=a.replace(this.point,"."));return parseFloat(a.replace(/[^0-9\-\.]/g,""))}},_create:function(){var a=this.element,b=a.attr("type");!a.is("input")||"text"!=b&&"number"!=b?console.error("Invalid target for ui.spinner"):
(this._procOptions(!0),this._createButtons(a),a.is(":enabled")||this.disable())},_createButtons:function(a){function b(a){for(var b=0;b<J.length;b++)if(J[b]==a)return!0;return!1}function c(a){if(v){if(a===L)return;clearTimeout(v)}L=a;v=setTimeout(function(){v=0;a()},100)}function e(){D&&(g(this).removeClass(n),d._stopSpin(),D=!1);return!1}var d=this,m=d.options,q=m.className,l=m.width,f=m.showOn,p=g.support.boxModel,r=a.outerHeight(),M=d.oMargin=function(a){return"auto"==a?0:parseInt(a)}(a.css("margin-right")),
E=d.wrapper=a.css({width:(d.oWidth=p?a.width():a.outerWidth())-l,marginRight:M+l,textAlign:"right"}).after('<span class="ui-spinner ui-widget"></span>').next(),w=d.btnContainer=g('<div class="ui-spinner-buttons"><div class="ui-spinner-up ui-spinner-button ui-state-default ui-corner-tr"><span class="ui-icon '+m.upIconClass+'">&nbsp;</span></div><div class="ui-spinner-down ui-spinner-button ui-state-default ui-corner-br"><span class="ui-icon '+m.downIconClass+'">&nbsp;</span></div></div>'),x,N,k,v,
L,y,z,F,D,O="rtl"==a[0].dir;q&&E.addClass(q);E.append(w.css({height:r,left:-l-M,top:a.offset().top-E.offset().top+"px"}));k=d.buttons=w.find(".ui-spinner-button");k.css({width:l-(p?k.outerWidth()-k.width():0),height:r/2-(p?k.outerHeight()-k.height():0)});x=k[0];N=k[1];q=k.find(".ui-icon");q.css({marginLeft:(k.innerWidth()-q.width())/2,marginTop:(k.innerHeight()-q.height())/2});w.width(k.outerWidth());"always"!=f&&w.css("opacity",0);"hover"!=f&&"both"!=f||k.add(a).bind("mouseenter.uispinner",function(){c(function(){y=
!0;d.focused&&"hover"!=f||d.showButtons()})}).bind("mouseleave.uispinner",function(){c(function(){y=!1;d.focused&&"hover"!=f||d.hideButtons()})});k.hover(function(){d.buttons.removeClass("ui-state-hover");m.disabled||g(this).addClass("ui-state-hover")},function(){g(this).removeClass("ui-state-hover")}).mousedown(function(){if(!m.disabled){var a=d.element[0],b=this===x?1:-1;a.focus();a.select();g(this).addClass(n);D=!0;d._startSpin(b)}return!1}).mouseup(e).mouseout(e);I&&k.dblclick(function(){m.disabled||
(d._change(),d._doSpin((this===x?1:-1)*m.step));return!1}).bind("selectstart",function(){return!1});a.bind("keydown.uispinner",function(a){var c,e,f=a.keyCode;if(a.ctrl||a.alt)return!0;b(f)&&(F=!0);if(z)return!1;switch(f){case A:case t:c=1;e=f==t;break;case B:case u:c=-1;e=f==u;break;case s:case C:c=f==s^O?1:-1;break;case G:return a=d.options.min,null!=a&&d._setValue(a),!1;case H:return a=d.options.max,null!=a&&d._setValue(a),!1}if(c)return z||m.disabled||(keyDir=c,g(0<c?x:N).addClass(n),z=!0,d._startSpin(c,
e)),!1}).bind("keyup.uispinner",function(a){if(a.ctrl||a.alt)return!0;b(h)&&(F=!1);switch(a.keyCode){case A:case s:case t:case B:case C:case u:return k.removeClass(n),d._stopSpin(),z=!1}}).bind("keypress.uispinner",function(a){if(F)a=!1;else{a=String.fromCharCode(a.charCode||a.keyCode);var b=d.options;a="0"<=a&&"9">=a||"-"==a||0<d.places&&a==b.point||a==b.group?!1:!0}if(a)return!1}).bind("change.uispinner",function(){d._change()}).bind("focus.uispinner",function(){function a(){d.element.select()}
I?a():setTimeout(a,0);d.focused=!0;K=d;y||"focus"!=f&&"both"!=f||d.showButtons()}).bind("blur.uispinner",function(){d.focused=!1;y||"focus"!=f&&"both"!=f||d.hideButtons()})},_procOptions:function(a){var b=this.element,c=this.options,e=c.min,d=c.max,g=c.step,h=c.places,l=-1,f;"slow"==c.increment?c.increment=[{count:1,mult:1,delay:250},{count:3,mult:1,delay:100},{count:0,mult:1,delay:50}]:"fast"==c.increment&&(c.increment=[{count:1,mult:1,delay:250},{count:19,mult:1,delay:100},{count:80,mult:1,delay:20},
{count:100,mult:10,delay:20},{count:0,mult:100,delay:20}]);null==e&&null!=(f=b.attr("min"))&&(e=parseFloat(f));null==d&&null!=(f=b.attr("max"))&&(d=parseFloat(f));g||null==(f=b.attr("step"))||"any"==f||(g=parseFloat(f),c.largeStep*=g);c.step=g=g||c.defaultStep;null==h&&-1!=(f=g+"").indexOf(".")&&(h=f.length-f.indexOf(".")-1);this.places=h;null!=d&&null!=e&&(e>d&&(e=d),l=Math.max(Math.max(l,c.format(d,h,b).length),c.format(e,h,b).length));a&&(this.inputMaxLength=b[0].maxLength);f=this.inputMaxLength;
if(0<f){l=0<l?Math.min(f,l):f;f=Math.pow(10,l)-1;if(null==d||d>f)d=f;f=-(f+1)/10+1;if(null==e||e<f)e=f}0<l&&b.attr("maxlength",l);c.min=e;c.max=d;this._change();b.unbind(r+".uispinner");c.mouseWheel&&b.bind(r+".uispinner",this._mouseWheel)},_mouseWheel:function(a){var b=g.data(this,"spinner");if(!b.options.disabled&&b.focused&&K===b)return b._change(),b._doSpin((0<(a.wheelDelta||-a.detail)?1:-1)*b.options.step),!1},_setTimer:function(a,b,c){var e=this;e._stopSpin();e.timer=setInterval(function(){e._spin(b,
c)},a)},_stopSpin:function(){this.timer&&(clearInterval(this.timer),this.timer=0)},_startSpin:function(a,b){var c=this.options.increment;this._change();this._doSpin(a*(b?this.options.largeStep:this.options.step));c&&0<c.length&&(this.incCounter=this.counter=0,this._setTimer(c[0].delay,a,b))},_spin:function(a,b){var c=this.options.increment,e=c[this.incCounter];this._doSpin(a*e.mult*(b?this.options.largeStep:this.options.step));this.counter++;this.counter>e.count&&this.incCounter<c.length-1&&(this.counter=
0,e=c[++this.incCounter],this._setTimer(e.delay,a,b))},_doSpin:function(a){var b=this.curvalue;null==b&&(b=(0<a?this.options.min:this.options.max)||0);this._setValue(b+a)},_parseValue:function(){var a=this.element.val();return a?this.options.parse(a,this.element):null},_validate:function(a){var b=this.options,c=b.min,e=b.max;null!=a||b.allowNull||(a=null!=this.curvalue?this.curvalue:c||e||0);return null!=e&&a>e?e:null!=c&&a<c?c:a},_change:function(){var a=this._parseValue();this.selfChange||(isNaN(a)&&
(a=this.curvalue),this._setValue(a,!0))},_setOption:function(a,b){g.Widget.prototype._setOption.call(this,a,b);this._procOptions()},increment:function(){this._doSpin(this.options.step)},decrement:function(){this._doSpin(-this.options.step)},showButtons:function(a){var b=this.btnContainer.stop();a?b.css("opacity",1):b.fadeTo("fast",1)},hideButtons:function(a){var b=this.btnContainer.stop();a?b.css("opacity",0):b.fadeTo("fast",0);this.buttons.removeClass("ui-state-hover")},_setValue:function(a,b){this.curvalue=
a=this._validate(a);this.element.val(null!=a?this.options.format(a,this.places,this.element):"");b||(this.selfChange=!0,this.element.change(),this.selfChange=!1)},value:function(a){return arguments.length?(this._setValue(a),this.element):this.curvalue},enable:function(){this.buttons.removeClass("ui-state-disabled");this.element[0].disabled=!1;g.Widget.prototype.enable.call(this)},disable:function(){this.buttons.addClass("ui-state-disabled").removeClass("ui-state-hover");this.element[0].disabled=!0;
g.Widget.prototype.disable.call(this)},destroy:function(a){this.wrapper.remove();this.element.unbind(".uispinner").css({width:this.oWidth,marginRight:this.oMargin});g.Widget.prototype.destroy.call(this)}})})(jQuery);